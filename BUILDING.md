# Building CPILint

In order to build CPILint from source code on your local machine, you need to have the following software installed:

* A Java 11 JDK for compilation
* [Apache Ant](https://ant.apache.org/) for performing the build
* [Apache Ivy](https://ant.apache.org/ivy/) for dependency management

Any Java 11 JDK *should* work, and the current versions of Ant and Ivy *should* work as well. If not, please create an issue on GitHub.

The Ant buildfile (build.xml) contains the following targets:

* prepare: Creates all directories required by the build
* clean: Removes all files and directories generated by Ant
* dependencies: Retrieves dependencies with Ivy
* compile: Compiles all source files
* jar: Generates a JAR archive containing all classes
* release: Generates a release archive for distribution

The Ivy file (ivy.xml) differentiates between compile time and run time dependencies, but at the moment all dependent libraries are needed at both compile and run time.

```bash
ant clean prepare dependencies compile jar release docker-release bundle-supplemental
```

```bash
java -jar .\lib\CodeNarc-3.6.0-groovy-4.0.jar -basedir=resources\if-02-example\src\main\resources\script -rulesetfiles=rulesets\codenarc_rulesets.groovy -report=html:codenarc-report.html -failOnError=false -title="iFlow Governance"

java -cp ".\lib\CodeNarc-3.2.0-all.jar" org.codenarc.CodeNarc  -basedir="resources\if-02-example\src\main\resources\script" -rulesetfiles="file:rulesets/codenarc_rules.groovy" -report=html:codenarc-report.html -failOnError=false -title="iFlow Governance"

java -cp ".\lib\CodeNarc-3.2.0-all.jar" org.codenarc.CodeNarc  -basedir="resources\if-02-example\src\main\" -rulesetfiles="file:rulesets/codenarc_rules.groovy" -report=json:codenarc-report.json -failOnError=false -title="iFlow Governance"
```